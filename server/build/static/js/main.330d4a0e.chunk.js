(this["webpackJsonpclothe-swipe-app"]=this["webpackJsonpclothe-swipe-app"]||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){},130:function(e,t,a){},145:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var r=a(24),n=a(2),c=a(0),s=a.n(c),i=a(11),o=a.n(i),l=(a(105),a(13)),j=a(46),u=a(15),d=a(10),b=(a(106),a(21)),m=a.n(b),O=a(31),h=a(14),p=a(180),x=a(182),f=a(196),g=a(150),v=a(191),S=a(184),w=a(194),I=a(186),y=a(187),k=a(192),U=a(178),C=a(193),N=a(29),L=a.n(N),E=Object(U.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),F=Object(l.b)("UserStore")(Object(l.c)((function(e){var t=E(),a=Object(c.useState)({email:"",password:""}),s=Object(d.a)(a,2),i=s[0],o=s[1],l=Object(c.useState)(!1),j=Object(d.a)(l,2),u=j[0],b=j[1],U=function(e){o(Object(r.a)(Object(r.a)({},i),{},Object(h.a)({},e.target.name,e.target.value)))},N=function(){var t=Object(O.a)(m.a.mark((function t(){var a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get("/user/".concat(i.email,"/").concat(i.password));case 3:a=t.sent,r=a.data,e.UserStore.setUser(r),console.log(r),localStorage.setItem("user",JSON.stringify(r)),e.redirectUser(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),b(!0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)(p.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(x.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(f.a,{className:t.avatar}),Object(n.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsx)(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:U}),Object(n.jsx)(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:U}),Object(n.jsx)(S.a,{control:Object(n.jsx)(w.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(I.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:N,children:"Sign In"}),u&&Object(n.jsx)(C.a,{severity:"error",children:"wrong email or password"}),Object(n.jsx)(y.a,{container:!0,children:Object(n.jsx)(y.a,{item:!0})})]})]}),Object(n.jsx)(k.a,{mt:8})]})}))),W=Object(U.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),R=Object(l.b)("UserStore")(Object(l.c)((function(e){var t=W(),a=Object(c.useState)({name:"",gender:"male",email:"",password:""}),s=Object(d.a)(a,2),i=s[0],o=s[1],l=Object(c.useState)(!1),j=Object(d.a)(l,2),u=j[0],b=j[1],S=function(e){o(Object(r.a)(Object(r.a)({},i),{},Object(h.a)({},e.target.name,e.target.value)))},w=function(){var t=Object(O.a)(m.a.mark((function t(){var a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post("/user",i);case 3:a=t.sent,r=a.data,200===a.status&&(e.UserStore.setUser(r),e.redirectUser()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),b(!0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)(p.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(x.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(f.a,{className:t.avatar}),Object(n.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsxs)(y.a,{container:!0,spacing:2,children:[Object(n.jsx)(y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{autoComplete:"name",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Full Name",autoFocus:!0,onChange:S})}),Object(n.jsx)(y.a,{item:!0,xs:12,sm:6,children:Object(n.jsxs)(v.a,{select:!0,label:"Select Gender",value:i.gender,name:"gender",onChange:S,SelectProps:{native:!0},variant:"outlined",style:{minWidth:"190px"},children:[Object(n.jsxs)("option",{value:"male",children:[" ","Male"," "]},"male"),Object(n.jsxs)("option",{value:"female",children:[" ","Female"," "]},"female")]})}),Object(n.jsx)(y.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:S})}),Object(n.jsx)(y.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"password",type:"password",id:"password",autoComplete:"current-password",onChange:S})}),Object(n.jsx)(y.a,{item:!0,xs:12})]}),Object(n.jsx)(I.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:w,children:"Sign Up"}),u&&Object(n.jsx)(C.a,{severity:"error",children:"your email already exists"})]})]}),Object(n.jsx)(k.a,{mt:5})]})}))),T=Object(l.b)("UserStore")(Object(l.c)((function(e){var t=Object(c.useState)(!0),a=Object(d.a)(t,2),r=a[0],s=a[1];Object(c.useEffect)((function(){localStorage.getItem("user")&&(e.UserStore.setUser(JSON.parse(localStorage.getItem("user"))),i())}),[]);var i=function(){setTimeout((function(){e.history.push("/swiper")}),1e3)};return Object(n.jsx)("div",{className:"homeContainer",children:r?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(F,{redirectUser:i}),Object(n.jsx)("div",{className:"text",onClick:function(){return s(!1)},children:"Click here to Register"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(R,{redirectUser:i}),Object(n.jsx)("div",{className:"text",onClick:function(){return s(!0)},children:"Already have an account ? Log-In"})]})})}))),J=a(188),q=a(82),P=a.n(q),A=(a(130),Object(l.b)("UserStore")(Object(l.c)((function(e){var t=Object(c.useState)(!0),a=Object(d.a)(t,2),r=a[0],s=a[1],i=Object(c.useState)([]),o=Object(d.a)(i,2),l=o[0],j=o[1],u=Object(c.useState)(!1),b=Object(d.a)(u,2),h=b[0],p=b[1];Object(c.useEffect)((function(){localStorage.getItem("user")?e.UserStore.setUser(JSON.parse(localStorage.getItem("user"))):window.location="/"}),[]),Object(c.useEffect)((function(){if(s(!0),e.UserStore.userItems.length>=40){var t=e.UserStore.userItems.splice(0,40);j(t),s(!1)}}),[e.UserStore.userItems]);var x=function(){var t=Object(O.a)(m.a.mark((function t(a,r){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="right"===a?1:0,t.prev=1,t.next=4,L.a.post("/".concat(n,"/").concat(r.id,"/").concat(e.UserStore.user.id));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log("error");case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,a){return t.apply(this,arguments)}}();return r?Object(n.jsx)("div",{style:{width:"100vw",height:"100vh",display:"grid",placeItems:"center"},children:Object(n.jsx)(J.a,{color:"secondary"})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"cardContainer",children:[Object(n.jsx)("h1",{children:"Goolo"}),Object(n.jsx)("p",{style:{cursor:"pointer"},onClick:function(){localStorage.clear(),window.location="/"},children:"Logout"}),Object(n.jsxs)("div",{className:"swipeContainer",children:[l&&l.length>0&&l.map((function(e,t){return Object(n.jsx)(P.a,{className:"swipe",onSwipe:function(t){return x(t,e)},onCardLeftScreen:function(){return function(e){0===e&&p(!0)}(t)},children:Object(n.jsx)("div",{style:{backgroundImage:"url(' ".concat(e.image," ')")},className:"card"})},e.id)})),h&&Object(n.jsx)("h1",{children:"No cards Left"})]})]})})})))),B=a(59),D=a(54),G=a.n(D),M=(a(76),function(e){return Object(n.jsxs)("div",{className:"pantsFlickity",children:[Object(n.jsx)("h1",{children:"Recommended Pants"}),Object(n.jsx)(G.a,{children:e.data.length>0&&e.data.splice(0,e.data.length>30?30:e.data.length).map((function(e){return Object(n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:e.url,children:Object(n.jsx)("img",{src:e.image,alt:e.id,class:"recImg"})})}))})]})}),V=function(e){return Object(n.jsxs)("div",{className:"shirtsFlickity",children:[Object(n.jsx)("h1",{children:"Recommended Shirts"}),Object(n.jsx)(G.a,{children:e.data.length>0&&e.data.splice(0,e.data.length>30?30:e.data.length).map((function(e){return Object(n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:e.url,children:Object(n.jsx)("img",{src:e.image,alt:e.id,class:"recImg"})})}))})]})},_=Object(l.b)("UserStore")(Object(l.c)((function(e){var t,a,r=Object(c.useState)(!0),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)([]),j=Object(d.a)(l,2),u=j[0],b=j[1],m=Object(c.useState)([]),O=Object(d.a)(m,2),h=O[0],p=O[1],x=Object(c.useState)(null!==(t=e.UserStore.likedItems)&&void 0!==t?t:[]),f=Object(d.a)(x,2),g=f[0],v=f[1],S=Object(c.useState)(null!==(a=e.UserStore.userItems)&&void 0!==a?a:[]),w=Object(d.a)(S,2),I=w[0],y=w[1],k=[],U=[];Object(c.useEffect)((function(){localStorage.getItem("user")?e.UserStore.setUser(JSON.parse(localStorage.getItem("user"))):window.location="/"}),[]),Object(c.useEffect)((function(){var t;v(null!==(t=e.UserStore.likedItems)&&void 0!==t?t:[])}),[e.UserStore.likedItems]),Object(c.useEffect)((function(){var t;y(null!==(t=e.UserStore.userItems)&&void 0!==t?t:[])}),[e.UserStore.userItems]),Object(c.useEffect)((function(){g.length>0&&I.length>0&&C()}),[g,I]);var C=function(){o(!0),k=[],U=[];var e,t=Object(B.a)(g);try{for(t.s();!(e=t.n()).done;){var a,r=e.value,n=Object(B.a)(I);try{for(n.s();!(a=n.n()).done;){var c=a.value;r.brand!==c.brand&&r.color!==c.color||r.id===c.id||(c.type.includes("shirt")?k.push(c):c.type.includes("pants")&&U.push(c))}}catch(s){n.e(s)}finally{n.f()}}}catch(s){t.e(s)}finally{t.f()}b(U),p(k),o(!1)};return i?Object(n.jsx)("div",{style:{width:"100vw",height:"100vh",display:"grid",placeItems:"center"},children:Object(n.jsx)(J.a,{color:"secondary"})}):Object(n.jsxs)("div",{children:[Object(n.jsx)(M,{data:u}),Object(n.jsx)(V,{data:h})]})}))),z=a(189),H=a(190),K=a(84),Q=a.n(K),X=a(85),Y=a.n(X),Z=(a(145),Object(U.a)({root:{display:"flex",width:"100vw",backgroundColor:"#EEE"}}));function $(){var e=Z(),t=s.a.useState(0),a=Object(d.a)(t,2),r=a[0],c=a[1];return Object(n.jsxs)(z.a,{value:r,onChange:function(e,t){c(t)},showLabels:!0,className:e.root,children:[Object(n.jsx)(j.b,{to:"/swiper",children:Object(n.jsx)(H.a,{label:"Swiper",icon:Object(n.jsx)(Q.a,{style:{fill:"#00b3aa"}})})}),Object(n.jsx)("div",{className:"logo"}),Object(n.jsx)(j.b,{to:"/BagRecommendations",children:Object(n.jsx)(H.a,{label:"bagRecommendations",icon:Object(n.jsx)(Y.a,{style:{fill:"#00b3aa"}})})})]})}var ee=Object(l.b)("UserStore")(Object(l.c)((function(e){return Object(n.jsxs)(j.a,{children:[Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{exact:!0,path:"/",render:function(e){return Object(n.jsx)(T,Object(r.a)({},e))}}),Object(n.jsx)(u.b,{exact:!0,path:"/bagRecommendations",render:function(e){return Object(n.jsx)(_,{})}}),Object(n.jsx)(u.b,{exact:!0,path:"/swiper",render:function(e){return Object(n.jsx)(A,{})}}),Object(n.jsx)(u.a,{to:"/",from:"*"})]}),e.UserStore.isLoggedIn&&Object(n.jsx)($,{})]})}))),te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,198)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))},ae=a(53),re=a(34),ne=a(7),ce={UserStore:new(function(){function e(){Object(ae.a)(this,e),this.isLoggedIn=!1,this.user={},this.userItems=[],this.likedItems=[],this.state="pending",Object(ne.m)(this,{isLoggedIn:ne.n,user:ne.n,userItems:ne.n,likedItems:ne.n,setUser:ne.f,clickLike:ne.f,state:ne.n})}return Object(re.a)(e,[{key:"setUser",value:function(){var e=Object(O.a)(m.a.mark((function e(t){var a,r,n,c,s=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.user=t,this.state="pending",e.prev=2,e.next=5,L.a.get("/".concat(this.user.id,"/userItems"));case 5:return a=e.sent,r=a.data,e.next=9,r;case 9:return n=e.sent,e.next=12,L.a.get("/".concat(this.user.id,"/userLikedItems"));case 12:c=e.sent,Object(ne.o)((function(){s.userItems=n,s.likedItems=c.data,s.isLoggedIn=!0,s.state="done",localStorage.setItem("userItems",n),localStorage.setItem("likedItems",c.data),localStorage.setItem("isLoggedIn",!0),localStorage.setItem("state","done")})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0),Object(ne.o)((function(){s.state="error"}));case 20:case"end":return e.stop()}}),e,this,[[2,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"clickLike",value:function(e){this.likedItems.push(e)}}]),e}())};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(l.a,Object(r.a)(Object(r.a)({},ce),{},{children:Object(n.jsx)(ee,{})}))}),document.getElementById("root")),te()},76:function(e,t,a){}},[[148,1,2]]]);
//# sourceMappingURL=main.330d4a0e.chunk.js.map